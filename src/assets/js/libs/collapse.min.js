export function slideUp(e, t = 400) {
  return "true" === e.dataset.sliding
    ? Promise.resolve()
    : ((e.dataset.sliding = "true"),
      new Promise((o) => {
        (e.style.height = e.offsetHeight + "px"),
          e.offsetHeight,
          (e.style.transitionProperty = "height, margin, padding"),
          (e.style.transitionDuration = t + "ms"),
          (e.style.overflow = "hidden"),
          (e.style.height = 0),
          (e.style.paddingTop = 0),
          (e.style.paddingBottom = 0),
          (e.style.marginTop = 0),
          (e.style.marginBottom = 0),
          setTimeout(() => {
            (e.style.display = "none"),
              e.style.removeProperty("height"),
              e.style.removeProperty("overflow"),
              e.style.removeProperty("transition-duration"),
              e.style.removeProperty("transition-property"),
              e.style.removeProperty("padding-top"),
              e.style.removeProperty("padding-bottom"),
              e.style.removeProperty("margin-top"),
              e.style.removeProperty("margin-bottom"),
              (e.dataset.sliding = "false"),
              o();
          }, t);
      }));
}
export function slideDown(e, t = 300) {
  return "true" === e.dataset.sliding
    ? Promise.resolve()
    : ((e.dataset.sliding = "true"),
      new Promise((o) => {
        e.style.removeProperty("display");
        let r = window.getComputedStyle(e).display;
        "none" === r && (r = "block"), (e.style.display = r);
        let i = e.scrollHeight;
        (e.style.overflow = "hidden"),
          (e.style.height = 0),
          (e.style.paddingTop = 0),
          (e.style.paddingBottom = 0),
          (e.style.marginTop = 0),
          (e.style.marginBottom = 0),
          e.offsetHeight,
          (e.style.transitionProperty = "height, margin, padding"),
          (e.style.transitionDuration = t + "ms"),
          (e.style.height = i + "px"),
          e.style.removeProperty("padding-top"),
          e.style.removeProperty("padding-bottom"),
          e.style.removeProperty("margin-top"),
          e.style.removeProperty("margin-bottom"),
          setTimeout(() => {
            e.style.removeProperty("height"),
              e.style.removeProperty("overflow"),
              e.style.removeProperty("transition-duration"),
              e.style.removeProperty("transition-property"),
              (e.dataset.sliding = "false"),
              o();
          }, t);
      }));
}
export function slideToggle(e, t = 300) {
  return "none" !== window.getComputedStyle(e).display
    ? slideUp(e, t)
    : slideDown(e, t);
}
